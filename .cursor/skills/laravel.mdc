---
alwaysApply: true
---

# Laravel開発スキル

このスキルファイルは、Laravelプロジェクトの開発において、laravel-boost-mcpを活用した効率的な開発を支援するためのガイドラインです。

---

## 1. 開発環境

- **Laravelバージョン**: Laravel Head（最新の開発ブランチ）を使用
- **PHPバージョン**: PHP 8.2以上を推奨
- **MCPサーバー**: laravel-boost-mcpを必須ツールとして使用

---

## 2. laravel-boost-mcpの活用原則

### 2.1 実装前の確認

Laravel関連の実装・修正を行う前に、必ず以下の手順を実行する：

1. **アプリケーション情報の確認**
   - `mcp_laravel-boost_application-info` を実行し、現在のLaravelバージョン、インストール済みパッケージ、Eloquentモデルを確認する
   - バージョン固有の機能や制約を把握する

2. **ドキュメント検索**
   - 実装前に `mcp_laravel-boost_search-docs` を使用して、最新の公式ドキュメントを確認する
   - **重要**: Search-Docsは日本語に対応していないため、検索クエリは英語で記述する
   - 複数のパッケージを対象とする場合は、`packages`パラメータで対象を指定する

3. **データベーススキーマの確認**
   - データベース関連の実装前に `mcp_laravel-boost_database-schema` でスキーマを確認する
   - テーブル構造、カラム、インデックス、外部キー制約を把握する

### 2.2 実装中の活用

実装中は以下のMCPツールを積極的に活用する：

- **ルート確認**: `mcp_laravel-boost_list-routes` で既存ルートを確認
- **設定値取得**: `mcp_laravel-boost_get-config` で設定値を確認
- **Artisanコマンド**: `mcp_laravel-boost_list-artisan-commands` で利用可能なコマンドを確認
- **エラーログ**: `mcp_laravel-boost_last-error` / `mcp_laravel-boost_read-log-entries` でエラーを確認
- **Tinker実行**: `mcp_laravel-boost_tinker` でコードの動作確認

### 2.3 デバッグ時の活用

- **エラー確認**: `mcp_laravel-boost_last-error` で最新のエラー詳細を確認
- **ログ確認**: `mcp_laravel-boost_read-log-entries` でログエントリを確認
- **ブラウザログ**: `mcp_laravel-boost_browser-logs` でフロントエンドのエラーを確認
- **データベースクエリ**: `mcp_laravel-boost_database-query` でデータを確認（読み取り専用）

---

## 3. Laravel Head特有の注意事項

### 3.1 バージョン確認の重要性

Laravel Headは最新の開発ブランチのため、以下の点に注意する：

- 公式ドキュメントの最新版を参照する（`mcp_laravel-boost_search-docs`を使用）
- Breaking Changesが含まれている可能性があるため、バージョン固有の動作を確認する
- パッケージの互換性を確認する（`mcp_laravel-boost_application-info`でインストール済みパッケージを確認）

### 3.2 新機能の活用

Laravel Headには最新の機能が含まれている可能性があるため：

- 実装前に `mcp_laravel-boost_search-docs` で新機能のドキュメントを検索する
- 既存コードとの互換性を確認する
- 必要に応じて既存コードを最新のベストプラクティスに更新する

---

## 4. 実装フロー

### 4.1 標準的な実装フロー

1. **要件確認**
   - ユーザーの要求を理解する
   - 影響範囲を特定する

2. **事前調査（laravel-boost-mcp使用）**
   - `mcp_laravel-boost_application-info` でアプリケーション情報を確認
   - `mcp_laravel-boost_search-docs` で関連ドキュメントを検索（英語クエリ）
   - `mcp_laravel-boost_database-schema` でデータベース構造を確認（必要に応じて）
   - `mcp_laravel-boost_list-routes` で既存ルートを確認（必要に応じて）

3. **実装**
   - 調査結果を踏まえて実装を進める
   - 必要に応じて `mcp_laravel-boost_tinker` で動作確認

4. **検証**
   - `mcp_laravel-boost_last-error` でエラーを確認
   - `mcp_laravel-boost_read-log-entries` でログを確認
   - 必要に応じて `mcp_laravel-boost_browser-logs` でフロントエンドエラーを確認

### 4.2 エラー発生時のフロー

1. **エラー情報の取得**
   - `mcp_laravel-boost_last-error` で最新エラーを確認
   - `mcp_laravel-boost_read-log-entries` でログエントリを確認

2. **ドキュメント検索**
   - エラーメッセージや関連キーワードで `mcp_laravel-boost_search-docs` を実行（英語クエリ）

3. **原因特定と修正**
   - ドキュメントとエラー情報を照合して原因を特定
   - 修正を実施

4. **再検証**
   - 修正後、再度エラーログを確認

---

## 5. 禁止事項

- **ドキュメント検索の言語**: Search-Docsは日本語非対応のため、英語クエリを使用する（日本語で検索しても結果が得られない）
- **データベース書き込み**: `mcp_laravel-boost_database-query` は読み取り専用。書き込み操作は実行しない
- **認証情報の露出**: `.env`ファイルや認証情報を含む操作は行わない

---

## 6. 推奨パターン

### 6.1 モデル作成時

1. `mcp_laravel-boost_database-schema` でテーブル構造を確認
2. `mcp_laravel-boost_search-docs` でEloquentモデルのベストプラクティスを検索
3. モデルを作成
4. `mcp_laravel-boost_application-info` でモデルが正しく登録されているか確認

### 6.2 ルート追加時

1. `mcp_laravel-boost_list-routes` で既存ルートを確認
2. `mcp_laravel-boost_search-docs` でルーティングの最新情報を検索
3. ルートを追加
4. `mcp_laravel-boost_list-routes` で追加されたルートを確認

### 6.3 設定変更時

1. `mcp_laravel-boost_list-available-config-keys` で利用可能な設定キーを確認
2. `mcp_laravel-boost_get-config` で現在の設定値を確認
3. 設定ファイルを変更
4. `mcp_laravel-boost_get-config` で変更が反映されているか確認

---

## 7. メモリとの連携

- Laravel Headを使用していることをメモリに記録する
- 実装完了後、必要に応じてメモリを更新する
- プロジェクト固有の情報（使用パッケージ、設定など）はメモリに記録する

---

このスキルファイルに従い、laravel-boost-mcpを最大限活用してLaravel開発を効率的に進めてください。
